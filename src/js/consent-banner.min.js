class ConsentManager{constructor(){this.consentKey="cs-learning-consent",this.consent=this.loadConsent(),this.init()}init(){this.hasConsent()?this.applyConsent():this.showBanner()}loadConsent(){try{const n=localStorage.getItem(this.consentKey);return n?JSON.parse(n):null}catch{return null}}saveConsent(n){this.consent={...n,timestamp:Date.now(),version:"1.0"},localStorage.setItem(this.consentKey,JSON.stringify(this.consent)),this.applyConsent()}hasConsent(){return this.consent&&this.consent.timestamp}applyConsent(){this.consent&&(this.consent.analytics?(window.analyticsEnabled=!0,window.analyticsTracker&&window.analyticsTracker.enable()):(window.analyticsEnabled=!1,window.analyticsTracker&&window.analyticsTracker.disable()),this.consent.thirdParty?window.thirdPartyEnabled=!0:window.thirdPartyEnabled=!1)}showBanner(){const n=document.createElement("div");n.className="consent-banner",n.innerHTML='\n      <div class="consent-content">\n        <h3>Cookie Consent</h3>\n        <p>We use cookies to improve your experience and analyze site usage.</p>\n        <div class="consent-options">\n          <label>\n            <input type="checkbox" id="consent-necessary" checked disabled>\n            Necessary (Required)\n          </label>\n          <label>\n            <input type="checkbox" id="consent-analytics" checked>\n            Analytics\n          </label>\n          <label>\n            <input type="checkbox" id="consent-third-party">\n            Third-party services\n          </label>\n        </div>\n        <div class="consent-actions">\n          <button id="consent-accept-all">Accept All</button>\n          <button id="consent-accept-selected">Accept Selected</button>\n          <button id="consent-reject">Reject Non-Essential</button>\n        </div>\n      </div>\n    ',n.style.cssText="\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: var(--bg-secondary);\n      border-top: 2px solid var(--accent-primary);\n      padding: 1.5rem;\n      z-index: 10000;\n      box-shadow: 0 -4px 12px rgba(0,0,0,0.1);\n    ",document.body.appendChild(n),document.getElementById("consent-accept-all").addEventListener("click",()=>{this.saveConsent({necessary:!0,analytics:!0,thirdParty:!0}),n.remove()}),document.getElementById("consent-accept-selected").addEventListener("click",()=>{this.saveConsent({necessary:!0,analytics:document.getElementById("consent-analytics").checked,thirdParty:document.getElementById("consent-third-party").checked}),n.remove()}),document.getElementById("consent-reject").addEventListener("click",()=>{this.saveConsent({necessary:!0,analytics:!1,thirdParty:!1}),n.remove()})}revokeConsent(){localStorage.removeItem(this.consentKey),this.consent=null,window.location.reload()}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.consentManager=new ConsentManager}):window.consentManager=new ConsentManager;